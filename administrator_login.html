<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>六（2）毕业纪念 - 登录</title>
    <link rel="stylesheet" type="text/css" href="styles/main.page.css">
    <style>
        body {
            background-image: url('https://bgithub.xyz/fanghuangxu/62/raw/refs/heads/main/icons/images/bg.jpg');
            background-size: cover;
            /* 使背景图片覆盖整个页面 */
            background-repeat: no-repeat;
            /* 防止背景图片重复 */
            background-attachment: fixed;
            /* 使背景图片固定，不随页面滚动 */
        }
    </style>
    <script>
        async function hashString(message) {
            const msgBuffer = new TextEncoder().encode(message); // 将字符串编码为Uint8Array
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer); // 计算哈希
            const hashArray = Array.from(new Uint8Array(hashBuffer)); // 将Buffer转换为数组
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join(''); // 将字节数组转换为十六进制字符串
            return hashHex;
        }

        async function validateLogin() {
            // 获取用户名和密码的值
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;

            // 这里仅作为示例，实际应用中应从服务器获取正确用户名和密码
            var correctUsername = 'f9f85eaff11b8cad76d449a2f744d82d14598d5a70f7ec4ac593f042fb8bb1b7';
            var correctPassword = '36a91dfc40f5e05e81adb02f619ec6c35ce6f2feaec0893988fbe9f02f97e056';
            var correctPassword2 = 'c787b8d8d05d8488cbfd5a3961e161cf7197853e9ec3b6885bbea83c9714b216';

            var hashUsername =  await hashString(username);
            var hashPassword =  await hashString(password);

            // 判断用户名和密码是否正确
            if ((hashUsername === correctUsername && hashPassword === correctPassword) || (hashUsername === correctUsername && hashPassword === correctPassword2)) {
                // 如果正确，重定向到 lindex.html
                window.location.href = 'lindex.html';
            } else {
                // 如果不正确，提示错误信息
                // alert('用户名或密码错误，请重试。');
                alert(hashUsername + " " + hashPassword);
            }

            // 阻止表单的默认提交行为
            return false;
        }
    </script>
</head>

<body>
    <header>
        <h1>六（2）毕业纪念 - administrator 组成员 - 登录</h1>
    </header>
    <main>
        <h1>登录</h1>
        <form onsubmit="return validateLogin()">
            <label for="username">用户名</label>
            <input type="text" id="username" name="username" required>
            <label for="password">密码</label>
            <input type="password" id="password" name="password" required>
            <button type="submit" id="login-btn">登录</button>
        </form>
    </main>
</body>

</html>

<!---https://raw.bgithub.xyz/fanghuangxu/62/refs/heads/main/icons/teachers/3.jpg-->
<!----https://bgithub.xyz/fanghuangxu/62/raw/refs/heads/main/icons/groupPhotos/14.jpg-->
